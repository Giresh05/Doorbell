services:
  - type: web
    name: facenet-api
    env: python
    
    # --- THIS IS THE FIX ---
    # Change pythonVersion from "3.8" to "3.7"
    # TensorFlow 1.15.0 is only compatible with Python 3.5-3.7
    pythonVersion: "3.7"
    
    # Command to install dependencies
    buildCommand: "pip install --upgrade pip && pip install -r requirements.txt"
    
    # Command to start the application using gunicorn
    startCommand: "gunicorn app:app"
    
    # Optional: Set up a health check
    healthCheck:
      path: "/"
      initialDelaySeconds: 30
